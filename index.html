<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Random Password Generator</title>
    <link rel="shortcut icon" href="images/FAV.png" type="image/x-icon">
</head>

<body>
    <div class="container">

        <div class="title">
            <h1>Generate a Random <span class="span">Password</span></h1>
        </div>
        
        <div class="bar">
          <input class="boxbar" type="text" placeholder="Password" id="password">
          <button onclick="copyPassword()"> Copy </button>
        </div>

        <div class="slider">
            <label for="password-length">Password Length: <span id="length-display">4</span></label>
            <input class="password-length" id="password-length" type="range" min="4" max="50" value="4">
            
        </div>

        <div class="options">

        <input type="checkbox" id="uppercase">
        <label for="uppercase">Uppercase</label>

        <input type="checkbox" id="Lowercase">
        <label for="Lowercase">Lowercase</label>

        <input type="checkbox" id="Numbers">
        <label for="Numbers">Numbers</label>

        <input type="checkbox" id="Symbols">
        <label for="Symbols">Symbols</label>

        </div>
        <div class="generate">
            <button onclick="createPassword()">Generate Password</button>
        </div>

    </div>

</body>
    
<script>

const passwordBox = document.getElementById("password");
    const passwordLengthSlider = document.getElementById("password-length");
    const lengthDisplay = document.getElementById("length-display");

    // Checkbox elements
    const includeUppercase = document.getElementById("uppercase");
    const includeLowercase = document.getElementById("Lowercase");
    const includeNumbers = document.getElementById("Numbers");
    const includeSymbols = document.getElementById("Symbols");

    // Character sets
    const upperCase = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const lowerCase = "abcdefghijklmnopqrstuvwxyz";
    const numbers = "0123456789";
    const symbols = "!@#$%^&*()_-+={[}]|\\:;<,>.?/";

    // Update the length display and default password on page load
    document.addEventListener("DOMContentLoaded", () => {
        lengthDisplay.textContent = passwordLengthSlider.value;
        createPassword(); // Generate a default password
    });

    // Update length display when slider changes
    passwordLengthSlider.addEventListener("input", () => {
        lengthDisplay.textContent = passwordLengthSlider.value;
    });

    // Generate password
    function createPassword() {
        const length = parseInt(passwordLengthSlider.value, 10);
        let allChars = "";
        let password = "";

        // Add selected character sets
        if (includeUppercase.checked) allChars += upperCase;
        if (includeLowercase.checked) allChars += lowerCase;
        if (includeNumbers.checked) allChars += numbers;
        if (includeSymbols.checked) allChars += symbols;

        // Validation: Ensure at least one checkbox is selected
        if (allChars === "") {
            return; // Exit the function if no checkboxes are checked
        }

        // Ensure at least one character from each selected set
        if (includeUppercase.checked) password += upperCase[Math.floor(Math.random() * upperCase.length)];
        if (includeLowercase.checked) password += lowerCase[Math.floor(Math.random() * lowerCase.length)];
        if (includeNumbers.checked) password += numbers[Math.floor(Math.random() * numbers.length)];
        if (includeSymbols.checked) password += symbols[Math.floor(Math.random() * symbols.length)];

        // Fill the rest of the password with random characters from allChars
        while (password.length < length) {
            password += allChars[Math.floor(Math.random() * allChars.length)];
        }

        // Shuffle the password to randomize the order of characters
        password = shuffle(password);

        // Update the password field
        passwordBox.value = password;
    }

    // Function to shuffle the password characters
    function shuffle(string) {
        return string.split('').sort(() => Math.random() - 0.5).join('');
    }

    // Copy password to clipboard
    function copyPassword() {
        passwordBox.select();
        document.execCommand("copy");
        alert("Password copied to clipboard!");
    }

</script>

</html>